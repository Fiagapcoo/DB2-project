{% extends "Authbase.html" %}

{% block title %}Recuperar Palavra-passe{% endblock %}

{% block content %}
{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'autenticacao/css/LoginStyle.css' %}">

<div class="content-wrapper">
    <div class="login-container">
        <div class="welcome-text">
            <h1>RECUPERAR PALAVRA-PASSE</h1>
            <p class="subtitle">Insira o seu email para recuperar a palavra-passe</p>
        </div>

        <form id="recovery-form" method="POST">
            {% csrf_token %}
            <div class="form-group">
                <input type="email" name="email" placeholder="Email" required>
            </div>

            <button type="submit" class="login-button">Enviar</button>
        </form>
        
        <p class="back-to-login">
            <a href="{% url 'login' %}" class="underline-link">Voltar para Login</a>
        </p>
    </div>
    <div class="image-container"></div>
</div>

<!-- Modal OTP -->
<div id="otpModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Verificação OTP</h2>
        </div>
        <div class="modal-body">
            <p>Foi enviado um código OTP para o email mencionado. Por favor verifique e insira o código de 6 dígitos nos campos abaixo</p>
            <form id="otp-form">
                <div class="otp-inputs">
                    <input type="text" maxlength="1" class="otp-input" required>
                    <input type="text" maxlength="1" class="otp-input" required>
                    <input type="text" maxlength="1" class="otp-input" required>
                    <input type="text" maxlength="1" class="otp-input" required>
                    <input type="text" maxlength="1" class="otp-input" required>
                    <input type="text" maxlength="1" class="otp-input" required>
                </div>
                <div id="otp-error" class="error-message"></div>
                <button type="submit" class="login-button">Confirmar</button>
                <div class="resend-container">
                    <button id="resend-btn" class="resend-button" disabled>
                        Reenviar código (<span id="timer">60</span>s)
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Adicione o JavaScript no final do template -->
<script src="{% static 'autenticacao/js/recovery.js' %}"></script>
{% endblock %}